<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lyn's Store</title>

<style>

/* ===============================
   GLOBAL RESET
================================ */
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Arial, Helvetica, sans-serif;
}

/* ===============================
   BODY
================================ */
body{
background:#f5f5f5;
}

/* ===============================
   HEADER
================================ */
header{
background:#111;
color:white;
padding:20px;
display:flex;
justify-content:space-between;
align-items:center;
}

.logo{
font-size:24px;
font-weight:bold;
letter-spacing:1px;
}

.cart-btn{
background:#ff6b35;
padding:10px 18px;
border-radius:6px;
cursor:pointer;
}

/* ===============================
   PRODUCT GRID
================================ */
.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:25px;
padding:40px;
}

/* ===============================
   PRODUCT CARD
================================ */
.card{
background:white;
border-radius:12px;
padding:20px;
box-shadow:0 10px 30px rgba(0,0,0,.1);
transition:.3s;
}

.card:hover{
transform:translateY(-5px);
}

.product-img{
width:100%;
height:300px;
object-fit:cover;
border-radius:10px;
margin-bottom:15px;
}

.price{
color:#ff6b35;
font-size:18px;
margin:10px 0;
}

/* ===============================
   OPTION SELECT
================================ */
.option-title{
margin-top:15px;
font-weight:bold;
}

.size-options button{
margin:5px;
padding:8px 14px;
border:1px solid #ddd;
background:white;
cursor:pointer;
}

.size-options button.active{
background:#ff6b35;
color:white;
}

.color-options{
display:flex;
gap:10px;
margin-top:10px;
}

.color-box{
width:50px;
height:50px;
border-radius:8px;
cursor:pointer;
border:2px solid transparent;
}

.color-box.active{
border:2px solid black;
}

/* ===============================
   BUTTON
================================ */
.add-btn{
width:100%;
padding:12px;
margin-top:20px;
background:#111;
color:white;
border:none;
cursor:pointer;
}

/* ===============================
   SIDEBAR CART
================================ */
.cart-sidebar{
position:fixed;
top:0;
right:-400px;
width:400px;
height:100%;
background:white;
box-shadow:-5px 0 25px rgba(0,0,0,.2);
transition:.4s;
padding:20px;
overflow:auto;
}

.cart-sidebar.active{
right:0;
}

.cart-item{
border-bottom:1px solid #eee;
padding:10px 0;
}

.checkout{
margin-top:20px;
padding:15px;
width:100%;
background:#ff6b35;
color:white;
border:none;
font-size:16px;
cursor:pointer;
}

/* ===============================
   RESPONSIVE
================================ */
@media(max-width:600px){
.cart-sidebar{
width:100%;
}
}

</style>
</head>

<body>

<header>
<div class="logo">Lyn's</div>
<div class="cart-btn" onclick="toggleCart()">ðŸ›’ <span id="count">0</span></div>
</header>

<section class="products" id="products"></section>

<div class="cart-sidebar" id="sidebar">
<h2>Keranjang</h2>
<div id="cartItems"></div>
<button class="checkout" onclick="checkout()">Checkout WhatsApp</button>
</div>

<script>

/* ===============================
   DATA PRODUK
================================ */
const products = [
{
nama:"Kaos Street Black",
harga:120000,
colors:{
Black:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab",
White:"https://images.unsplash.com/photo-1503342217505-b0a15ec3261c"
}
},
{
nama:"Kaos Oversize",
harga:150000,
colors:{
Navy:"https://images.unsplash.com/photo-1520975916090-3105956dac38",
Gray:"https://images.unsplash.com/photo-1520974735194-4e2c3c79dc02"
}
}
];

/* ===============================
   CART STORAGE
================================ */
let cart = JSON.parse(localStorage.getItem("cart")) || [];

/* ===============================
   RENDER PRODUCTS
================================ */
function renderProducts(){
const container = document.getElementById("products");
container.innerHTML="";

products.forEach((p,i)=>{
const firstColor = Object.keys(p.colors)[0];

container.innerHTML += `
<div class="card">

<img src="${p.colors[firstColor]}" id="img${i}" class="product-img">

<h3>${p.nama}</h3>
<div class="price">Rp ${p.harga}</div>

<div class="option-title">Ukuran</div>
<div class="size-options" id="size${i}">
<button onclick="selectSize(${i},this)">S</button>
<button onclick="selectSize(${i},this)">M</button>
<button onclick="selectSize(${i},this)">L</button>
<button onclick="selectSize(${i},this)">XL</button>
</div>

<div class="option-title">Warna</div>
<div class="color-options">
${Object.entries(p.colors).map(([name,img])=>`
<div class="color-box"
style="background:url(${img});background-size:cover"
onclick="selectColor(${i},'${img}',this)">
</div>`).join("")}
</div>

<button class="add-btn" onclick="addCart(${i})">Tambah Keranjang</button>

</div>
`;
});
}

/* ===============================
   SELECT SIZE
================================ */
function selectSize(index,btn){
document.querySelectorAll(`#size${index} button`).forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
}

/* ===============================
   SELECT COLOR
================================ */
function selectColor(index,img,el){
document.getElementById(`img${index}`).src=img;
el.parentElement.querySelectorAll(".color-box").forEach(b=>b.classList.remove("active"));
el.classList.add("active");
}

/* ===============================
   ADD TO CART
================================ */
function addCart(i){

const sizeBtn = document.querySelector(`#size${i} .active`);
const colorBtn = document.querySelectorAll(".color-options")[i].querySelector(".active");

if(!sizeBtn || !colorBtn){
alert("Pilih ukuran dan warna dulu!");
return;
}

const item = {
nama:products[i].nama,
harga:products[i].harga,
size:sizeBtn.innerText,
img:document.getElementById(`img${i}`).src
};

cart.push(item);
localStorage.setItem("cart",JSON.stringify(cart));
updateCart();
}

/* ===============================
   UPDATE CART
================================ */
function updateCart(){

document.getElementById("count").innerText=cart.length;

let html="";
cart.forEach((c,index)=>{
html+=`
<div class="cart-item">
<img src="${c.img}" width="50">
<p>${c.nama}</p>
<p>Size: ${c.size}</p>
<p>Rp ${c.harga}</p>
</div>
`;
});

document.getElementById("cartItems").innerHTML=html;
}

/* ===============================
   TOGGLE CART
================================ */
function toggleCart(){
document.getElementById("sidebar").classList.toggle("active");
}

/* ===============================
   CHECKOUT
================================ */
function checkout(){

let text="Halo saya mau pesan:%0A";

cart.forEach(c=>{
text += `${c.nama} Size ${c.size} - Rp ${c.harga}%0A`;
});

window.open(`https://wa.me/6281234567890?text=${text}`);
}

/* ===============================
   INIT
================================ */
renderProducts();
updateCart();

</script>

</body>
</html>
